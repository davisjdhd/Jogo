<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Snake ‚Ä¢ Helo Linda</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:#000;
  font-family:Arial,sans-serif;
  color:#fff;
  overflow:hidden;
}
#app{position:relative;width:100%;height:100%;}
.screen{
  position:absolute;inset:0;
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.screen.active{display:flex;z-index:10;}
h1{color:#ff3355;font-size:42px;text-shadow:0 0 25px #ff3355;}
.menu-btn{
  width:260px;padding:16px;margin:10px;
  border-radius:18px;border:none;
  font-size:20px;
  background:linear-gradient(180deg,#ff3355,#aa0022);
  color:#fff;
}
#gameScreen{justify-content:flex-start;padding-top:8px;}
#hud{
  width:90vw;max-width:360px;
  display:flex;justify-content:space-between;
  margin-bottom:6px;
}
#hud button{
  border:none;border-radius:10px;
  padding:6px 14px;background:#ff3355;color:#fff;
}
canvas{
  width:90vw;max-width:360px;
  aspect-ratio:1/1;
  border-radius:24px;
  box-shadow:0 0 40px #ff335555;
}
#controls{
  margin-top:8px;
  display:grid;
  grid-template-columns:60px 60px 60px;
  gap:8px;
}
#controls button{
  height:56px;
  background:#220000;
  border:2px solid #ff3355;
  border-radius:18px;
  font-size:22px;color:#fff;
}
.hidden{visibility:hidden;}
</style>
</head>

<body>
<div id="app">

<div id="menu" class="screen active">
  <h1>Helo Linda</h1>
  <button class="menu-btn" onclick="startGame()">Jogar</button>
</div>

<div id="pause" class="screen">
  <h2>Pausado</h2>
  <button class="menu-btn" onclick="resumeGame()">Retornar</button>
  <button class="menu-btn" onclick="backMenu()">Menu</button>
</div>

<div id="gameScreen" class="screen">
  <div id="hud">
    <span>üçé <span id="scoreEl">0</span></span>
    <button onclick="pauseGame()">‚è∏</button>
    <span>‚ò† <span id="deathEl">0</span></span>
  </div>

  <canvas id="game"></canvas>

  <div id="controls">
    <div class="hidden"></div>
    <button onclick="setDir(0,-1)">‚¨Ü</button>
    <div class="hidden"></div>
    <button onclick="setDir(-1,0)">‚¨Ö</button>
    <div class="hidden"></div>
    <button onclick="setDir(1,0)">‚û°</button>
    <div class="hidden"></div>
    <button onclick="setDir(0,1)">‚¨á</button>
    <div class="hidden"></div>
  </div>
</div>

</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

function resize(){
  const s=Math.min(window.innerWidth*0.9,360);
  canvas.width=s;canvas.height=s;
}
window.addEventListener("resize",resize);
resize();

const scoreEl=document.getElementById("scoreEl");
const deathEl=document.getElementById("deathEl");

let snake,dir,food;
let score=0,deaths=0;
let speed=120,grow=0;
let running=false,paused=false,last=0;

function show(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function startGame(){
  resetGame();
  running=true;paused=false;last=0;
  show("gameScreen");
  requestAnimationFrame(loop);
}

function resetGame(){
  snake=[{x:canvas.width/2,y:canvas.height/2}];
  dir={x:1,y:0};
  score=0;grow=0;speed=120;
  spawnFood();
  updateHUD();
}

function pauseGame(){paused=true;show("pause");}
function resumeGame(){paused=false;show("gameScreen");last=0;requestAnimationFrame(loop);}
function backMenu(){running=false;paused=false;show("menu");}

function setDir(x,y){
  if(dir.x+x===0&&dir.y+y===0)return;
  dir={x,y};
}

function spawnFood(){
  let valid=false;
  while(!valid){
    food={
      x:Math.random()*(canvas.width-20)+10,
      y:Math.random()*(canvas.height-20)+10
    };
    valid=true;
    for(const s of snake){
      if(Math.hypot(food.x-s.x,food.y-s.y)<14){
        valid=false;break;
      }
    }
  }
}

function update(dt){
  const h=snake[0];
  const nx=h.x+dir.x*speed*dt;
  const ny=h.y+dir.y*speed*dt;

  if(nx<6||ny<6||nx>canvas.width-6||ny>canvas.height-6){
    deaths++;updateHUD();backMenu();return;
  }

  const eat=Math.hypot(nx-food.x,ny-food.y)<9;

  snake.unshift({x:nx,y:ny});

  if(eat){
    score++;grow+=5;
    spawnFood();
    updateHUD();
  }

  if(grow>0) grow--;
  else snake.pop();

  for(let i=2;i<snake.length;i++){
    if(Math.hypot(nx-snake[i].x,ny-snake[i].y)<6){
      deaths++;updateHUD();backMenu();return;
    }
  }
}

function draw(){
  ctx.fillStyle="#050505";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.strokeStyle="#ff3355";
  ctx.globalAlpha=0.25;
  const step=canvas.width/10;
  for(let i=0;i<=canvas.width;i+=step){
    ctx.beginPath();ctx.moveTo(i,0);ctx.lineTo(i,canvas.height);ctx.stroke();
    ctx.beginPath();ctx.moveTo(0,i);ctx.lineTo(canvas.width,i);ctx.stroke();
  }
  ctx.globalAlpha=1;

  ctx.font="bold 64px Arial";
  ctx.textAlign="center";
  ctx.fillStyle="#ff3355";
  ctx.globalAlpha=0.15;
  ctx.fillText("HELO",canvas.width/2,canvas.height/2+20);
  ctx.globalAlpha=1;

  ctx.fillStyle="#ff3355";
  ctx.beginPath();
  ctx.arc(food.x,food.y,6,0,Math.PI*2);
  ctx.fill();

  snake.forEach(s=>{
    ctx.fillStyle="#ff7777";
    ctx.beginPath();
    ctx.arc(s.x,s.y,6,0,Math.PI*2);
    ctx.fill();
  });
}

function updateHUD(){
  scoreEl.textContent=score;
  deathEl.textContent=deaths;
}

function loop(t){
  if(!running||paused)return;
  if(!last) last=t;
  const dt=(t-last)/1000;
  last=t;
  update(dt);
  draw();
  requestAnimationFrame(loop);
}
</script>
</body>
</html>
